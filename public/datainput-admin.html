<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" type="text/css" href="css/datainput-admin.css">


	<title>Data-INWILD</title>
</head>

<body>
	<nav class="nav-bar">
		<a href="index.html" class="logo">INWILD.</a>
		<div class="menu-items">
			<a href="explorepage.html" class="LT">Explore</a>
			<a href="datapage.html" class="LT">Data</a>
			<a class="LT" onclick="">Login/Sign Up</a>
		</div>
	</nav>

	<main class="big-container">
		<div class="buttons">
			<button class="search-filter" onclick="location.href='datainput.html'">Animal</button>
			<button class="medical" onclick="location.href='datainput-medical.html'">Medical</button>
			<button class="admin" onclick="location.href='datainput-admin.html'">Admin</button>
			<!-- <button class="data-input" onclick="location.href='datainput.html'">Data Input</button> -->
		</div>

		<div class="main-body">
			<div class="left">
				<h2><b>Admin Control Form</b></h2>
				<form id="admincreate">
					<h4>Officer Email-ID</h4>
					<input type="text" class="org" id="emailid" placeholder="Email ID">
					<h4>Designation Level</h4>
					<input type="text" class="org" id="designation" placeholder="Desination">
					<div class="button-grp">
						<input type="submit" class="submit" value="Create Officer">
						<p id="message" class="error" style="color: red;"></p>

				</form>


			</div>

			<div class="left"></div>
			<form id="admindelete">
				<h4>Officer Email-ID</h4>
				<input type="text" class="org" id="email-id" placeholder="Email ID">
				<h4>Designation Level</h4>
				<input type="submit" class="submit" value="Delete Officer">
				<p id="message" class="error" style="color: red;"></p>
			</form>
		</div>
		</div>

	</main>

	<footer>
		<p class="Copyright"><b>&copy;</b> designed by shyam & suchitte.</p>
	</footer>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="js/search.js"></script>
</body>

</html>


<script>
	const admincreate = document.getElementById('admincreate');
	admincreate.onsubmit = e => {
		$('#Errormessage').html("");
		e.preventDefault();

		const emailid = document.getElementById('emailid').value;
		const username = document.getElementById('designation').value;
		$.ajax({
			type: 'POST',
			url: "http://localhost:3000/createuser",
			data: JSON.stringify({
				"name": name,
				"password": password,
				"username": username,
				"designation": designation,
				"email": email
			}),
			error: function (e) {
				$('#Errormessage').html(e.responseText);
				admincreate.reset();
				//$(".form-container").effect("shake");
			},
			success: function (e) {
				$('#Errormessage').html('Sign up scessfull');
				admincreate.reset();
			},
			dataType: "json",
			contentType: "application/json"
		});
		return false;
	}

	const admindelete = document.getElementById('admindelete');
	admindelete.onsubmit = e => {
		$('#siErrormessage').html("");
		e.preventDefault();

		const password = document.getElementById('si-password').value;
		const email = document.getElementById('si-email').value;

		$.ajax({
			type: 'POST',
			url: "http://localhost:3000/auth",
			data: JSON.stringify({
				"password": password,
				"email": email
			}),
			error: function (e) {
				$('#siErrormessage').html(e.responseText);
				admindelete.reset();
				//$(".form-container").effect("shake");
			},
			success: function (e) {
				$('#siErrormessage').html('Sign In successfull');
				admindelete.reset();
			},
			dataType: "json",
			contentType: "application/json"
		});
		return false;
	}

</script>
